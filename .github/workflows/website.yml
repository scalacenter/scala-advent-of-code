name: Deploy Website
on:
  push:
    branches: [website]
jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v5
        with:
          submodules: true
      - uses: coursier/cache-action@v7
      - uses: VirtusLab/scala-cli-setup@v1.10.1
        with:
          jvm: "temurin:21"
          apps: sbt
      - name: Publish ${{ github.ref }}
        run: sbt docs/docusaurusPublishGhpages
        env:
          GITHUB_DEPLOY_KEY: ${{ secrets.DOC }}
